# 実装計画

## 概要
本ドキュメントは、Oshi-TrainerフロントエンドUIの実装タスクを定義します。ウマ娘風のホーム画面を中心とした、推しトレーナーとのインタラクティブな体験を提供するUIを構築します。

---

- [x] 1. プロジェクト基盤とデザインシステムのセットアップ
  - プロジェクト構造をFeature-Based設計に従って構築する
  - ウマ娘風のカラーパレット（ベース70%白/青グレー、メイン25%緑、アクセント5%オレンジ/ピンク）を定義する
  - カスタムボタンスタイル（曲線的デザイン、32-42ptフォント、グラデーション）を作成する
  - 共通のタイポグラフィスタイル（ゴシック体、26-28pt数値、読みやすいサイズ）を定義する
  - アセットカタログにプレースホルダー画像を追加する
  - _Requirements: 7.1, 7.2_

- [x] 2. データモデルとモックサービスの実装
- [x] 2.1 コアデータモデルの作成
  - 推しトレーナーのデータ構造（名前、レベル、経験値、画像、セリフ）を定義する
  - トレーニングセッションのデータ構造（日付、種目、時間、完了状態）を定義する
  - 称号のデータ構造（タイトル、説明、アンロック状態）を定義する
  - 統計データの構造（月別統計、種目別統計）を定義する
  - _Requirements: 1.1-1.8, 2.1-2.5, 5.1-5.5_

- [x] 2.2 モックデータサービスの実装
  - データサービスプロトコルを定義する
  - モックデータサービスクラスを実装する
  - サンプルの推しトレーナーデータを生成する
  - サンプルの称号データ（3-5個）を生成する
  - サンプルの統計データ（月別、種目別）を生成する
  - _Requirements: 1.1-1.8, 2.1-2.5, 5.1-5.5_

- [x] 3. ホーム画面（メイン画面）の実装
- [x] 3.1 HomeViewModelの作成
  - ObservableObjectプロトコルを実装する
  - 推しトレーナー情報の状態管理を実装する
  - セリフ更新機能を実装する
  - モックデータサービスからデータを読み込む機能を実装する
  - _Requirements: 1.1-1.8_

- [x] 3.2 HomeViewのレイアウト構築
  - ウマ娘風の画面構成（ヘッダー/中央/フッター）を実装する
  - 左上に推しレベル表示（タップ可能、26-28ptフォント）を配置する
  - 右上に推し作成ボタンを配置する
  - 中央にキャラクター画像（全身表示、タップ可能）を配置する
  - キャラクター前面にセリフ欄（吹き出しスタイル）を配置する
  - 左下に統計ボタン、右下に設定ボタンを曲線的に配置する
  - _Requirements: 1.1-1.8_

- [x] 3.3 HomeViewのインタラクション実装
  - レベル表示タップでモーダル表示状態を管理する
  - キャラクター画像タップでトレーニングポップアップ表示状態を管理する
  - ナビゲーションリンクで他画面への遷移を実装する
  - タップフィードバック（スケールアニメーション）を実装する
  - _Requirements: 1.1-1.8, 7.3, 7.4_

- [x] 4. レベル詳細画面の実装
- [x] 4.1 LevelDetailViewModelの作成
  - ObservableObjectプロトコルを実装する
  - レベル、経験値、称号リストの状態管理を実装する
  - モックデータサービスからレベルデータを読み込む機能を実装する
  - _Requirements: 2.1-2.5_

- [x] 4.2 LevelDetailViewのUI構築
  - シートモーダルとして表示されるビューを作成する
  - 現在の推しレベルを大きく表示する
  - 獲得経験値の総量を表示する
  - 称号リスト（List）を実装し、アンロック済み称号を表示する
  - 閉じるボタンを実装する
  - _Requirements: 2.1-2.5_

- [x] 5. 推しトレーナー作成画面の実装
- [x] 5.1 TrainerCreationViewのUI構築
  - NavigationLinkで遷移するビューを作成する
  - トレーナー名入力フィールドを実装する
  - カスタマイズオプションのプレースホルダーUIを作成する
  - 保存ボタン（モック、実際の保存なし）を実装する
  - ウマ娘風のデザインテーマを適用する
  - _Requirements: 3.1-3.3_

- [x] 6. トレーニング開始フローの実装
- [x] 6.1 TrainingPopupViewの作成
  - シートモーダルとして表示されるビューを作成する
  - トレーニング種目名と説明を表示する
  - 推奨時間の表示を実装する
  - トレーニング開始ボタンを実装する
  - 閉じるボタンを実装する
  - カメラ起動状態の管理を実装する
  - _Requirements: 4.1-4.6_

- [x] 6.2 CameraViewの作成
  - フルスクリーンカバーとして表示されるビューを作成する
  - プレースホルダーテキスト「カメラが起動されます」を表示する
  - 閉じるボタンを実装する
  - トレーニング開始ボタンタップでCameraViewを表示するフローを実装する
  - _Requirements: 4.5, 4.6_

- [x] 7. 統計画面の実装
- [x] 7.1 StatisticsViewModelの作成
  - ObservableObjectプロトコルを実装する
  - 月別統計と種目別統計の状態管理を実装する
  - モックデータサービスから統計データを読み込む機能を実装する
  - フィルタリング機能（月別、種目別）を実装する
  - _Requirements: 5.1-5.5_

- [x] 7.2 StatisticsViewのUI構築
  - NavigationLinkで遷移するビューを作成する
  - 月別統計セクション（リストまたはチャート）を実装する
  - 種目別統計セクション（リストまたはチャート）を実装する
  - 統計データを視覚的に表現する（簡易的なバーまたはテキスト表示）
  - ウマ娘風のデザインテーマを適用する
  - _Requirements: 5.1-5.5_

- [x] 8. 設定画面の実装
- [x] 8.1 SettingsViewのUI構築
  - NavigationLinkで遷移するビューを作成する
  - アプリ設定項目のプレースホルダーを表示する
  - クレジット情報セクションを実装する
  - バージョン情報を表示する
  - ウマ娘風のデザインテーマを適用する
  - _Requirements: 6.1-6.5_

- [x] 9. ナビゲーションとアプリ統合
- [x] 9.1 NavigationStackの統合
  - Oshi_TrainerApp.swiftでNavigationStackをルートビューとして設定する
  - HomeViewを初期表示画面として設定する
  - 全ての画面遷移（NavigationLink、.sheet、.fullScreenCover）が正しく動作することを確認する
  - 画面遷移のアニメーションがスムーズであることを確認する
  - _Requirements: 7.4, 7.5_

- [x] 9.2 全画面のデザイン一貫性確保
  - 全画面でウマ娘風カラーパレットが適用されていることを確認する
  - 全ボタンで曲線的デザインとタップフィードバックが実装されていることを確認する
  - フォントサイズと階層が一貫していることを確認する
  - iOSのネイティブUIガイドラインに準拠していることを確認する
  - _Requirements: 7.1-7.5_

- [ ] 10. テストと検証
- [ ] 10.1 ユニットテストの実装
  - HomeViewModelのデータ読み込みテストを作成する
  - LevelDetailViewModelのデータ読み込みテストを作成する
  - StatisticsViewModelのフィルタリングテストを作成する
  - MockDataServiceのデータ提供テストを作成する
  - データモデルの不変条件テストを作成する
  - _Requirements: 全要件_

- [ ] 10.2 UIテストの実装
  - アプリ起動からホーム画面表示までのテストを作成する
  - レベルタップ→詳細表示→閉じるフローのテストを作成する
  - キャラタップ→ポップアップ→カメラ→閉じるフローのテストを作成する
  - 統計画面への遷移と表示のテストを作成する
  - 設定画面への遷移と表示のテストを作成する
  - _Requirements: 全要件_

- [ ] 11. 最終調整と品質確保
- [ ] 11.1 パフォーマンスとUX改善
  - 全画面のレンダリングパフォーマンスを確認する
  - アニメーションがスムーズ（60fps）であることを確認する
  - メモリ使用量が適切であることを確認する
  - 片手操作の快適性を確認する
  - _Requirements: 7.3, 7.4, 7.5_

- [ ] 11.2 最終的な統合テスト
  - 全ての要件が満たされていることを確認する
  - 全ての画面遷移フローが正しく動作することを確認する
  - ウマ娘風デザインが一貫して適用されていることを確認する
  - 実機（iOS 26デバイス）でテストを実施する
  - _Requirements: 全要件_
